{"ast":null,"code":"var _jsxFileName = \"/home/wkalim/Documents/University_Courses/CS4483/clicker.io/client/src/components/Main.jsx\";\nimport React, { Component } from \"react\";\nimport { Checkbox, FormGroup, FormControlLabel, TextField, Button, Typography } from \"@material-ui/core\"; // import ClientComponent from \"./ClientComponent\";\n\nimport socketIOClient from \"socket.io-client\"; // import openSocket from \"socket.io-client\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ENDPOINT = \"http://192.168.4.26:3001\";\n\nfunction uuidv4() {\n  return \"xxxxxxxx\".replace(/[xy]/g, function (c) {\n    var r = Math.random() * 16 | 0,\n        v = c === \"x\" ? r : r & 0x3 | 0x8;\n    return v.toString(16);\n  });\n}\n\nfunction generateUniqueNumber() {\n  return \"xxxxxxxxxxxxxxxxxxxxxxxx\".replace(/[xy]/g, function (c) {\n    var r = Math.random() * 16 | 0,\n        v = c === \"x\" ? r : r & 0x3 | 0x8;\n    return v.toString(16);\n  });\n}\n\nclass Main extends Component {\n  constructor(props) {\n    super(props);\n\n    this.clickButton = el => {\n      el.click();\n    };\n\n    this.countingButtonPress = event => {\n      const {\n        startGame\n      } = this.state;\n\n      if (startGame) {\n        if (event.keyCode === 32) {\n          this.handleButtonPress();\n        }\n      }\n    };\n\n    this.joinRoom = () => {\n      const {\n        room,\n        socketIO\n      } = this.state;\n      socketIO.emit(\"room\", room);\n      this.setState({\n        startGame: true\n      });\n    };\n\n    this.handleButtonPress = () => {\n      const {\n        id,\n        count,\n        room,\n        socketIO\n      } = this.state; // this.setState({ count: count+1});\n\n      const data = {\n        id: id,\n        room: room,\n        message: \"Hello World\",\n        timestamp: Date.now()\n      };\n      console.log(data);\n      socketIO.emit(\"buttonPress\", data);\n    };\n\n    this.state = {\n      room: \"\",\n      count: 0,\n      loadClient: true,\n      startingScreen: true,\n      createRoomChecked: false,\n      joinRoomChecked: false,\n      roomIdGenerated: false,\n      startGame: false,\n      response: \"\",\n      socketIO: null,\n      id: null,\n      username: \"\"\n    };\n  }\n\n  componentDidMount() {\n    document.addEventListener(\"keydown\", this.countingButtonPress, false);\n    this.setState({\n      id: generateUniqueNumber()\n    }, () => {\n      this.setState({\n        socketIO: socketIOClient(ENDPOINT, {\n          transport: [\"websocket\"]\n        })\n      }, () => {\n        this.state.socketIO.on(\"count\", data => {\n          this.setState({\n            count: data\n          });\n        });\n      });\n    });\n    return () => this.socketIO.disconnect();\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener(\"keydown\", this.countingButtonPress, false);\n  }\n\n  render() {\n    const {\n      room,\n      count,\n      loadClient,\n      startingScreen,\n      createRoomChecked,\n      joinRoomChecked,\n      roomIdGenerated,\n      startGame,\n      response,\n      socketIO,\n      username\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [!startGame ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [startingScreen && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h1\",\n            style: {\n              padding: \"0.5em\"\n            },\n            children: \"Clicker.io\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            color: \"primary\",\n            size: \"large\",\n            onClick: () => {\n              this.setState({\n                startingScreen: false\n              });\n            },\n            children: \"Start\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true), !startingScreen && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            value: username,\n            autoFocus: true,\n            required: true,\n            onChange: event => {\n              this.setState({\n                username: event.target.value\n              });\n            },\n            placeholder: \"Username\",\n            style: {\n              fontFamily: 'Helvetica',\n              fontSize: '32px',\n              background: '#ffffff',\n              // padding: '10px 20px 10px 20px',\n              padding: '20px',\n              marginTop: '20px',\n              borderRadius: '12px',\n              zIndex: '100'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n            row: true,\n            children: [/*#__PURE__*/_jsxDEV(FormControlLabel, {\n              control: /*#__PURE__*/_jsxDEV(Checkbox, {\n                checked: createRoomChecked,\n                onChange: () => {\n                  if (!createRoomChecked && joinRoomChecked) {\n                    this.setState({\n                      joinRoomChecked: !joinRoomChecked\n                    });\n                  }\n\n                  this.setState({\n                    createRoomChecked: !createRoomChecked\n                  });\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 23\n              }, this),\n              label: \"Create Room\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(FormControlLabel, {\n              control: /*#__PURE__*/_jsxDEV(Checkbox, {\n                checked: joinRoomChecked,\n                onChange: () => {\n                  if (createRoomChecked && !joinRoomChecked) {\n                    this.setState({\n                      createRoomChecked: !createRoomChecked\n                    }); // setCreateRoomChecked(!createRoomChecked);\n                  }\n\n                  this.setState({\n                    joinRoomChecked: !joinRoomChecked\n                  }); // setJoinRoomChecked(!joinRoomChecked);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 23\n              }, this),\n              label: \"Join Room\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 17\n          }, this), createRoomChecked ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => {\n                this.setState({\n                  room: uuidv4()\n                }, () => {\n                  this.setState({\n                    roomIdGenerated: true\n                  }, () => {\n                    this.joinRoom(); // this.setState({startGame: true});\n                  });\n                });\n              },\n              variant: \"contained\",\n              color: \"primary\",\n              children: \"Generate Room Id\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 21\n            }, this)\n          }, void 0, false) : null, joinRoomChecked ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(TextField, {\n              value: room,\n              autoFocus: true,\n              helperText: \"Enter Room Id Here...\",\n              onChange: event => {\n                this.setState({\n                  room: event.target.value\n                }); // setRoom(event.target.value);\n              },\n              onKeyPress: ev => {\n                if (ev.key === \"Enter\") {\n                  // Do code here\n                  this.joinRoom();\n                  this.setState({\n                    startGame: true\n                  });\n                  ev.preventDefault();\n                }\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => {\n                this.joinRoom();\n                this.setState({\n                  startGame: true\n                }); // setStartGame(true);\n              },\n              variant: \"contained\",\n              color: \"primary\",\n              children: \"Join Room\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true) : null, roomIdGenerated ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              children: room\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 21\n            }, this)\n          }, void 0, false) : null]\n        }, void 0, true)]\n      }, void 0, true) : null, startGame ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          children: `Room Id: ${room}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h1\",\n          children: count\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          variant: \"contained\",\n          color: \"primary\",\n          ref: this.countingButtonPress,\n          onClick: () => {\n            this.handleButtonPress(); // this.setState({count: count+1});\n            // setCount(count + 1);\n          },\n          children: \"Press Me\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : null]\n    }, void 0, true);\n  }\n\n}\n\nexport default Main;","map":{"version":3,"sources":["/home/wkalim/Documents/University_Courses/CS4483/clicker.io/client/src/components/Main.jsx"],"names":["React","Component","Checkbox","FormGroup","FormControlLabel","TextField","Button","Typography","socketIOClient","ENDPOINT","uuidv4","replace","c","r","Math","random","v","toString","generateUniqueNumber","Main","constructor","props","clickButton","el","click","countingButtonPress","event","startGame","state","keyCode","handleButtonPress","joinRoom","room","socketIO","emit","setState","id","count","data","message","timestamp","Date","now","console","log","loadClient","startingScreen","createRoomChecked","joinRoomChecked","roomIdGenerated","response","username","componentDidMount","document","addEventListener","transport","on","disconnect","componentWillUnmount","removeEventListener","render","padding","target","value","fontFamily","fontSize","background","marginTop","borderRadius","zIndex","ev","key","preventDefault"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {\n  Checkbox,\n  FormGroup,\n  FormControlLabel,\n  TextField,\n  Button,\n  Typography,\n} from \"@material-ui/core\";\n\n// import ClientComponent from \"./ClientComponent\";\n\nimport socketIOClient from \"socket.io-client\";\n// import openSocket from \"socket.io-client\";\nconst ENDPOINT = \"http://192.168.4.26:3001\";\n\nfunction uuidv4() {\n  return \"xxxxxxxx\".replace(/[xy]/g, function (c) {\n    var r = (Math.random() * 16) | 0,\n      v = c === \"x\" ? r : (r & 0x3) | 0x8;\n    return v.toString(16);\n  });\n}\n\nfunction generateUniqueNumber() {\n  return \"xxxxxxxxxxxxxxxxxxxxxxxx\".replace(/[xy]/g, function (c) {\n    var r = (Math.random() * 16) | 0,\n      v = c === \"x\" ? r : (r & 0x3) | 0x8;\n    return v.toString(16);\n  });\n}\n\nclass Main extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      room: \"\",\n      count: 0,\n      loadClient: true,\n      startingScreen: true,\n      createRoomChecked: false,\n      joinRoomChecked: false,\n      roomIdGenerated: false,\n      startGame: false,\n      response: \"\",\n      socketIO: null,\n      id: null,\n      username: \"\",\n    };\n  }\n\n  clickButton = (el) => {\n    el.click();\n  }\n\n  countingButtonPress = (event) => {\n    const { startGame } = this.state;\n    if (startGame) {\n      if (event.keyCode === 32) {\n        this.handleButtonPress();\n      }\n    }\n  };\n\n  componentDidMount() {\n    document.addEventListener(\"keydown\", this.countingButtonPress, false);\n    this.setState({ id: generateUniqueNumber() }, () => {\n      this.setState(\n        { socketIO: socketIOClient(ENDPOINT, { transport: [\"websocket\"] }) },\n        () => {\n          this.state.socketIO.on(\"count\", (data) => {\n            this.setState({ count: data });\n          });\n        }\n      );\n    });\n\n    return () => this.socketIO.disconnect();\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener(\"keydown\", this.countingButtonPress, false);\n  }\n\n  joinRoom = () => {\n    const { room, socketIO } = this.state;\n    socketIO.emit(\"room\", room);\n    this.setState({ startGame: true });\n  };\n\n  handleButtonPress = () => {\n    const { id, count, room, socketIO } = this.state;\n    // this.setState({ count: count+1});\n\n    const data = {\n      id: id,\n      room: room,\n      message: \"Hello World\",\n      timestamp: Date.now(),\n    };\n    console.log(data);\n    socketIO.emit(\"buttonPress\", data);\n  };\n\n  render() {\n    const {\n      room,\n      count,\n      loadClient,\n      startingScreen,\n      createRoomChecked,\n      joinRoomChecked,\n      roomIdGenerated,\n      startGame,\n      response,\n      socketIO,\n      username\n    } = this.state;\n    return (\n      <>\n        {/* <Typography variant=\"h1\">Addiction With Extra Steps</Typography> */}\n        {!startGame ? (\n          <>\n            {startingScreen && (\n              <>\n                <Typography variant=\"h1\" style={{ padding: \"0.5em\" }}>\n                  Clicker.io\n                </Typography>\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  size=\"large\"\n                  onClick={() => {\n                    this.setState({ startingScreen: false });\n                  }}\n                >\n                  Start\n                </Button>\n              </>\n            )}\n            {!startingScreen && (\n              <>\n                <TextField\n                  value={username}\n                  autoFocus={true}\n                  required={true}\n                  onChange={(event) => {this.setState({username: event.target.value})}}\n                  placeholder={\"Username\"}\n                  style={{\n                    fontFamily: 'Helvetica',\n                    fontSize: '32px',\n                    background: '#ffffff',\n                    // padding: '10px 20px 10px 20px',\n                    padding: '20px',\n                    marginTop: '20px',\n                    borderRadius: '12px',\n                    zIndex: '100'\n                  }}\n                />\n                <FormGroup row>\n                  <FormControlLabel\n                    control={\n                      <Checkbox\n                        checked={createRoomChecked}\n                        onChange={() => {\n                          if (!createRoomChecked && joinRoomChecked) {\n                            this.setState({\n                              joinRoomChecked: !joinRoomChecked,\n                            });\n                          }\n                          this.setState({\n                            createRoomChecked: !createRoomChecked,\n                          });\n                        }}\n                      />\n                    }\n                    label=\"Create Room\"\n                  />\n                  <FormControlLabel\n                    control={\n                      <Checkbox\n                        checked={joinRoomChecked}\n                        onChange={() => {\n                          if (createRoomChecked && !joinRoomChecked) {\n                            this.setState({\n                              createRoomChecked: !createRoomChecked,\n                            });\n                            // setCreateRoomChecked(!createRoomChecked);\n                          }\n                          this.setState({ joinRoomChecked: !joinRoomChecked });\n                          // setJoinRoomChecked(!joinRoomChecked);\n                        }}\n                      />\n                    }\n                    label=\"Join Room\"\n                  />\n                </FormGroup>\n                {createRoomChecked ? (\n                  <>\n                    <Button\n                      onClick={() => {\n                        this.setState({ room: uuidv4() }, () => {\n                          this.setState({ roomIdGenerated: true }, () => {\n                            this.joinRoom();\n                            // this.setState({startGame: true});\n                          });\n                        });\n                      }}\n                      variant=\"contained\"\n                      color=\"primary\"\n                    >\n                      Generate Room Id\n                    </Button>\n                  </>\n                ) : null}\n                {joinRoomChecked ? (\n                  <>\n                    <TextField\n                      value={room}\n                      autoFocus={true}\n                      helperText={\"Enter Room Id Here...\"}\n                      onChange={(event) => {\n                        this.setState({ room: event.target.value });\n                        // setRoom(event.target.value);\n                      }}\n                      onKeyPress={(ev) => {\n                        if (ev.key === \"Enter\") {\n                          // Do code here\n                          this.joinRoom();\n                          this.setState({ startGame: true });\n                          ev.preventDefault();\n                        }\n                      }}\n                    />\n                    <Button\n                      onClick={() => {\n                        this.joinRoom();\n                        this.setState({ startGame: true });\n                        // setStartGame(true);\n                      }}\n                      variant=\"contained\"\n                      color=\"primary\"\n                    >\n                      Join Room\n                    </Button>\n                  </>\n                ) : null}\n\n                {roomIdGenerated ? (\n                  <>\n                    <Typography>{room}</Typography>\n                    {/* <TextField\n          value={room}\n          disabled={true}\n        /> */}\n                  </>\n                ) : null}\n              </>\n            )}\n          </>\n        ) : null}\n        {startGame ? (\n          <>\n            <Typography>{`Room Id: ${room}`}</Typography>\n            <Typography variant=\"h1\">{count}</Typography>\n            <Button\n              type=\"submit\"\n              variant=\"contained\"\n              color=\"primary\"\n              ref={this.countingButtonPress}\n              onClick={() => {\n                this.handleButtonPress();\n                // this.setState({count: count+1});\n                // setCount(count + 1);\n              }}\n            >\n              Press Me\n            </Button>\n          </>\n        ) : null}\n      </>\n    );\n  }\n}\n\nexport default Main;\n"]},"metadata":{},"sourceType":"module"}